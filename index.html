<!DOCTYPE html>
<html>
<head>
    <title>Complex Transformations Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <h1>Transformations in the Complex Plane</h1>
    </nav>
    
    <div class="content">
        <div class="left-panel">
            <div id="symbolic-equations" class="function-inputs">
                <div class="cases-wrapper">
                    <div class="function-input">
                        <label>f₁(z) = </label>
                        <span id="function1-input"></span>
                    </div>
                    <div class="function-input">
                        <label>f₂(z) = </label>
                        <span id="function2-input"></span>
                    </div>
                </div>
                <div id="variable-selectors" class="variable-selectors">
                    <!-- Dynamic selectors will be added here -->
                </div>
            </div>
        </div>
        
        <div class="right-panel">
            <div id="equations"></div>
            <div id="info"></div>
            <canvas id="plotCanvas"></canvas>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        // Initialize MathQuill after script.js is loaded
        var MQ = MathQuill.getInterface(2);
        
        // Initialize function inputs
        var function1Field = MQ.MathField(document.getElementById('function1-input'), {
            spaceBehavesLikeTab: true,
            handlers: {
                edit: function() {
                    var latex = function1Field.latex();
                    console.log('Function 1 changed:', latex);
                    updateVariableSelectors();
                    updateURL();
                }
            }
        });

        var function2Field = MQ.MathField(document.getElementById('function2-input'), {
            spaceBehavesLikeTab: true,
            handlers: {
                edit: function() {
                    var latex = function2Field.latex();
                    console.log('Function 2 changed:', latex);
                    updateVariableSelectors();
                    updateURL();
                }
            }
        });

        // Set initial values and write them immediately
        function1Field.write('\\alpha z');
        function2Field.write('\\alpha e^{\\theta i}z + \\alpha');
    </script>
</body>
</html> 